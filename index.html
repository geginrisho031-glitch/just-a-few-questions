<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Just a Few Questions ğŸ˜Š</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;
  background:linear-gradient(120deg,#fbc2eb,#a6c1ee);
  display:flex;justify-content:center;align-items:center;
  font-family:Arial,sans-serif;overflow:hidden;
}

/* â¤ï¸ HEART BACKGROUND */
.hearts-bg{position:fixed;inset:0;pointer-events:none;z-index:0}
.heart-bg{
  position:absolute;bottom:-20px;font-size:22px;
  animation:floatHeart 8s linear forwards;opacity:.6
}
@keyframes floatHeart{
  to{transform:translateY(-110vh) scale(1.3);opacity:0}
}

/* ğŸ† FIREWORKS */
.firework{
  position:fixed;width:6px;height:6px;
  animation:explode 1s ease-out forwards;z-index:1
}
@keyframes explode{
  to{
    box-shadow:
      0 -60px red,0 60px yellow,60px 0 blue,
      -60px 0 pink,45px 45px orange,-45px -45px violet;
    opacity:0
  }
}

/* CARD */
.card{
  position:relative;z-index:2;background:#fff;
  padding:26px;border-radius:22px;width:360px;
  text-align:center;box-shadow:0 10px 25px rgba(0,0,0,.12)
}

.cat{font-size:62px;animation:bounce 1.5s infinite}
@keyframes bounce{50%{transform:translateY(-10px)}}

#question{font-size:20px;font-weight:600}
#reply{
  margin-top:12px;display:none;
  font-size:16px;line-height:1.6;word-spacing:2px
}

textarea{
  width:92%;height:70px;margin-top:12px;
  border-radius:12px;border:1px solid #ccc;
  padding:10px;display:none
}

.ascii{
  margin-top:12px;background:#fff0f5;
  padding:12px;border-radius:16px;
  font-size:12px;display:none;white-space:pre
}

button{
  border:none;border-radius:25px;
  padding:12px 25px;margin:10px;
  font-size:16px;cursor:pointer
}
#yes{background:#4CAF50;color:#fff}
#no{background:#f44336;color:#fff}
#next{display:none;background:#2196F3;color:#fff}

.whatsapp{display:none;margin-top:15px}
.whatsapp a{color:#25D366;font-weight:bold;text-decoration:none}
</style>
</head>

<body>

<div class="hearts-bg" id="heartsBg"></div>

<div class="card">
  <div class="cat">ğŸ±ğŸ’–</div>
  <h2 id="question"></h2>
  <div id="reply"></div>
  <div id="asciiBox" class="ascii"></div>

  <textarea id="messageBox" placeholder="You can type anything here ğŸ˜Š"></textarea>

  <div class="whatsapp" id="whatsappBox">
    If youâ€™d like, message me here ğŸ˜ŠğŸ’–<br>
    <a href="https://wa.me/918300568519" target="_blank">ğŸ“± 8300568519</a>
  </div>

  <button id="yes">Yes ğŸ’™</button>
  <button id="no">No ğŸ¤</button>
  <button id="next">Next â¡ï¸</button>
</div>

<!-- â¤ï¸ HEARTS -->
<script>
const heartsBg=document.getElementById("heartsBg");
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart-bg";
  h.innerText=Math.random()>.5?"ğŸ’–":"â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  heartsBg.appendChild(h);
  setTimeout(()=>h.remove(),8000);
},700);

function fireworks(){
  for(let i=0;i<18;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.style.left=Math.random()*innerWidth+"px";
    f.style.top=Math.random()*innerHeight+"px";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}
</script>

<!-- ğŸ”¥ FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, addDoc, collection, serverTimestamp }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig={
  apiKey:"AIzaSyAvN7xo_47Mso2rubw1b4vOKWO548f2AxU",
  authDomain:"just-a-few-questions.firebaseapp.com",
  projectId:"just-a-few-questions",
  storageBucket:"just-a-few-questions.appspot.com",
  messagingSenderId:"367392163708",
  appId:"1:367392163708:web:2b5273467744c74e2086f9"
};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

window.saveResponse=async(data)=>{
  await addDoc(collection(db,"responses"),{
    ...data,
    time:serverTimestamp()
  });
};
</script>

<script>
const questions=[
 "Do you like me? ğŸ˜Š",
 "Do you have a crush on me? ğŸ˜„",
 "Do you enjoy talking with me? ğŸ’¬",
 "Would you like to know me better? ğŸ˜Š",
 "Do you love me? â¤ï¸",
 "Would you like to ask me anything? ğŸ˜Š",
 "Shall we stay connected? ğŸ’–"
];

const replies=[
 "I always like you ğŸ˜Š",
 "I Do Have A Crush On You ğŸ˜„",
 "I Waiting For Your Text ğŸ’¬",
 "I Am Introvert And Shy So Text Me First ğŸ¤",
 "I LOVE YOU TOO â¤ï¸",
 "Iâ€™m listening ğŸ˜Š",
 "Wow Thats NiceğŸ’•"
];

const asciiArts=[
` /)   /)
( áµ” áµ• áµ” )
/ ã¥  ã¥ ~ â™¡`,
`( Ë¶Ë†ê’³Ë†Ëµ )
   â™¡ â™¡`,
`( â€¢Ì€ Ï‰ â€¢Ì )âœ§
   ğŸ’¬`,
`(ï½¡â™¥â€¿â™¥ï½¡)
   âœ¨`,
`âˆ§,,,âˆ§
(  Ì³â€¢ Â· â€¢ Ì³)
/    ã¥â™¡`,
`(â‰§â—¡â‰¦)
   ğŸ˜Š`,
`(â™¡Ë™ï¸¶Ë™â™¡)
   ğŸ’`
];

const messages=[
 "Are you sure?",
 "Really?",
 "Think again ğŸ˜…",
 "Please ğŸ˜­",
 "Last chance ğŸ’”"
];

let i=0,yesSize=16,noSize=16,noCount=0,messageIndex=0;

const q=document.getElementById("question");
const r=document.getElementById("reply");
const ascii=document.getElementById("asciiBox");
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const next=document.getElementById("next");
const msg=document.getElementById("messageBox");
const wa=document.getElementById("whatsappBox");

q.innerText=questions[i];

function typeText(text){
  r.innerText="";r.style.display="block";
  let x=0;
  const t=setInterval(()=>{
    r.innerText+=text.charAt(x++);
    if(x>=text.length)clearInterval(t);
  },30);
}

no.onclick=()=>{
  noCount++;
  no.innerText=messages[messageIndex];
  messageIndex=(messageIndex+1)%messages.length;

  yesSize+=4; noSize-=2;
  yes.style.fontSize=yesSize+"px";
  no.style.fontSize=Math.max(noSize,10)+"px";

  if(noCount>=1) yes.innerText="Yes â¤ï¸";
};

yes.onclick=async()=>{
  yes.style.display=no.style.display="none";
  typeText(replies[i]);

  if(asciiArts[i]){
    ascii.innerText=asciiArts[i];
    ascii.style.display="block";
  }

  if(i===4){
    const fw=setInterval(fireworks,500);
    setTimeout(()=>clearInterval(fw),3000);
  }

  if(i===5) msg.style.display="block";
  if(i===6) wa.style.display="block";

  await saveResponse({
    question:questions[i],
    answer:noCount>0?"Yes":"yes",
    noClicks:noCount,
    message:msg.value||""
  });

  if(i<questions.length-1) next.style.display="inline-block";
};

next.onclick=()=>{
  i++;
  reset();
  q.innerText=questions[i];
};

function reset(){
  r.style.display="none";
  ascii.style.display="none";
  msg.style.display="none";
  wa.style.display="none";
  yes.style.display=no.style.display="inline-block";
  next.style.display="none";

  yesSize=noSize=16;
  noCount=0;
  messageIndex=0;
  yes.innerText="Yes ğŸ’™";
  no.innerText="No ğŸ¤";
  yes.style.fontSize=no.style.fontSize="16px";
}
</script>

</body>
</html>
