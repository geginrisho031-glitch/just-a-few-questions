<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Just a Few Questions üòä</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;height:100vh;
  background:linear-gradient(120deg,#fbc2eb,#a6c1ee);
  display:flex;justify-content:center;align-items:center;
  font-family:Arial,sans-serif;overflow:hidden;
}

/* ‚ù§Ô∏è FLOATING HEART BACKGROUND */
.hearts-bg{position:fixed;inset:0;pointer-events:none;z-index:0}
.heart-bg{
  position:absolute;bottom:-20px;font-size:22px;
  animation:floatHeart 8s linear forwards;opacity:.6
}
@keyframes floatHeart{
  to{transform:translateY(-110vh) scale(1.3);opacity:0}
}

/* üéÜ FIREWORKS */
.firework{
  position:fixed;width:6px;height:6px;
  animation:explode 1s ease-out forwards;z-index:1
}
@keyframes explode{
  to{
    box-shadow:0 -60px red,0 60px yellow,60px 0 blue,
    -60px 0 pink,45px 45px orange,-45px -45px violet;
    opacity:0
  }
}

/* CARD */
.card{
  position:relative;z-index:2;background:#fff;
  padding:26px;border-radius:22px;width:360px;
  text-align:center;box-shadow:0 10px 25px rgba(0,0,0,.12)
}

/* CAT */
.cat{font-size:62px;animation:bounce 1.5s infinite}
@keyframes bounce{50%{transform:translateY(-10px)}}

/* TEXT */
#question{font-size:20px;font-weight:600}
#reply{
  margin-top:12px;display:none;
  font-size:16px;line-height:1.6;word-spacing:2px
}

/* TEXTAREA */
textarea{
  width:92%;height:70px;margin-top:12px;
  border-radius:12px;border:1px solid #ccc;
  padding:10px;display:none
}

/* ASCII */
.ascii{
  margin-top:12px;background:#fff0f5;
  padding:12px;border-radius:16px;
  font-size:12px;display:none;white-space:pre
}

/* BUTTONS */
button{
  border:none;border-radius:25px;
  padding:12px 25px;margin:10px;
  font-size:16px;cursor:pointer
}
#yes{background:#4CAF50;color:#fff}
#no{background:#f44336;color:#fff}
#next{display:none;background:#2196F3;color:#fff}

/* WHATSAPP */
.whatsapp{display:none;margin-top:15px}
.whatsapp a{color:#25D366;font-weight:bold;text-decoration:none}
</style>
</head>

<body>

<div class="hearts-bg" id="heartsBg"></div>

<div class="card">
  <div class="cat">üê±üíñ</div>

  <h2 id="question"></h2>
  <div id="reply"></div>
  <div id="asciiBox" class="ascii"></div>

  <textarea id="messageBox" placeholder="You can type anything here üòä"></textarea>

  <div class="whatsapp" id="whatsappBox">
    If you‚Äôd like, you can message me here üòäüíñ click the number<br>
    <a href="https://wa.me/918300568519" target="_blank">üì± 8300568519</a>
  </div>

  <button id="yes">Yes üíô</button>
  <button id="no">No ü§ç</button>
  <button id="next">Next ‚û°Ô∏è</button>
</div>

<!-- ‚ù§Ô∏è HEART BACKGROUND -->
<script>
const heartsBg=document.getElementById("heartsBg");
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart-bg";
  h.innerText=Math.random()>.5?"üíñ":"‚ù§Ô∏è";
  h.style.left=Math.random()*100+"vw";
  heartsBg.appendChild(h);
  setTimeout(()=>h.remove(),8000);
},700);

/* üéÜ FIREWORKS */
function fireworks(){
  for(let i=0;i<18;i++){
    const f=document.createElement("div");
    f.className="firework";
    f.style.left=Math.random()*innerWidth+"px";
    f.style.top=Math.random()*innerHeight+"px";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}
</script>

<!-- üî• FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, addDoc, collection, serverTimestamp }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig={
  apiKey:"AIzaSyAvN7xo_47Mso2rubw1b4vOKWO548f2AxU",
  authDomain:"just-a-few-questions.firebaseapp.com",
  projectId:"just-a-few-questions",
  storageBucket:"just-a-few-questions.appspot.com",
  messagingSenderId:"367392163708",
  appId:"1:367392163708:web:2b5273467744c74e2086f9"
};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

window.saveResponse=async(data)=>{
  await addDoc(collection(db,"responses"),{
    ...data,
    time:serverTimestamp()
  });
};
</script>

<script>
const questions=[
 "Do you like me? üòä",
 "Do you have a crush on me? üòÑ",
 "Do you enjoy talking with me? üí¨",
 "Would you like to know me better? üòä",
 "Do you love me? ‚ù§Ô∏è",
 "Would you like to ask me anything? üòä",
 "Shall we stay connected? üíñ"
];

const replies=[
 "I always like you üòä",
 "I Do Have A Crush On You üòÑ",
 "I Waiting For Your Text üí¨",
 "I Am Introvert And Shy So Text Me First ü§ç",
 "I LOVE YOU TOO ‚ù§Ô∏è",
 "I‚Äôm listening üòä",
 "Wow Thats Niceüíï"
];

const asciiArts=[
` /)   /)
( ·µî ·µï ·µî )
/ „Å•  „Å• ~ ‚ô°`,
`( À∂ÀÜÍí≥ÀÜÀµ )
   ‚ô° ‚ô°`,
`( ‚Ä¢ÃÄ œâ ‚Ä¢ÃÅ )‚úß
   üí¨`,
`(ÔΩ°‚ô•‚Äø‚ô•ÔΩ°)
   ‚ú®`,
`‚àß,,,‚àß
(  Ã≥‚Ä¢ ¬∑ ‚Ä¢ Ã≥)
 /    „Å•‚ô°`,
`(‚âß‚ó°‚â¶)
   üòä`,
`(‚ô°ÀôÔ∏∂Àô‚ô°)
   üíû`
];

let i=0;
let yesSize=16,noSize=16;
let noCount=0;   // ‚úÖ NO click counter

const q=document.getElementById("question");
const r=document.getElementById("reply");
const ascii=document.getElementById("asciiBox");
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const next=document.getElementById("next");
const msg=document.getElementById("messageBox");
const wa=document.getElementById("whatsappBox");

q.innerText=questions[i];

function typeText(text){
  r.innerText="";r.style.display="block";
  let x=0;
  const t=setInterval(()=>{
    r.innerText+=text.charAt(x++);
    if(x>=text.length)clearInterval(t);
  },30);
}

no.onclick=()=>{
  noCount++; // ‚úÖ count NO
  yesSize+=4;
  noSize-=2;
  yes.style.fontSize=yesSize+"px";
  no.style.fontSize=Math.max(noSize,10)+"px";
};

yes.onclick=async()=>{
  yes.style.display=no.style.display="none";
  typeText(replies[i]);

  if(asciiArts[i]){
    ascii.innerText=asciiArts[i];
    ascii.style.display="block";
  }

  if(i===4){
    const fw=setInterval(fireworks,500);
    setTimeout(()=>clearInterval(fw),3000);
  }

  if(i===5) msg.style.display="block";
  if(i===6) wa.style.display="block";

  await saveResponse({
    question:questions[i],
    answer:"yes",
    noClicks:noCount, // ‚úÖ saved
    message:msg.value||""
  });

  if(i < questions.length-1){
    next.style.display="inline-block";
  }
};

next.onclick=()=>{
  i++;
  reset();
  q.innerText=questions[i];
};

function reset(){
  r.style.display="none";
  ascii.style.display="none";
  msg.style.display="none";
  wa.style.display="none";
  yes.style.display=no.style.display="inline-block";
  next.style.display="none";
  yesSize=noSize=16;
  noCount=0; // ‚úÖ reset for next question
  yes.style.fontSize=no.style.fontSize="16px";
}
</script>

</body>
</html>
