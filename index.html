<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Just a Few Questions üòä</title>

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(to right,#fbc2eb,#a6c1ee);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial,sans-serif;
  overflow:hidden;
}
.card{
  background:#fff;
  padding:25px;
  border-radius:20px;
  width:360px;
  text-align:center;
}
.cat{font-size:60px;animation:bounce 1.5s infinite}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

button{
  border:none;border-radius:25px;
  padding:12px 25px;margin:10px;
  font-size:16px;cursor:pointer;
  transition:.3s;
}
#yes{background:#4CAF50;color:#fff}
#no{background:#f44336;color:#fff}
#next{display:none;background:#2196F3;color:#fff}

#reply{margin-top:12px;display:none;font-size:16px}
.ascii{
  margin-top:10px;
  background:#fff0f5;
  padding:10px;
  border-radius:12px;
  font-size:12px;
  line-height:1.3;
  display:none;
  white-space:pre;
}

/* Fireworks */
.firework{position:fixed;width:6px;height:6px;animation:explode 1s ease-out forwards}
@keyframes explode{
to{box-shadow:0 -60px red,0 60px yellow,60px 0 blue,-60px 0 pink,45px 45px orange,-45px -45px violet;opacity:0}
}

/* Hearts */
.heart{position:fixed;bottom:-20px;font-size:24px;animation:floatUp 4s linear forwards}
@keyframes floatUp{to{transform:translateY(-110vh);opacity:0}}

textarea{
  width:90%;height:70px;
  border-radius:10px;border:1px solid #ccc;
  padding:8px;display:none;
}

.whatsapp{display:none;margin-top:15px}
.whatsapp a{color:#25D366;font-weight:bold;text-decoration:none}
</style>
</head>

<body>
<div class="card">
  <div class="cat">üê±üíñ</div>

  <h2 id="question"></h2>
  <div id="reply"></div>
  <div id="asciiBox" class="ascii"></div>

  <textarea id="messageBox" placeholder="You can type anything here üòä"></textarea>

  <div class="whatsapp" id="whatsappBox">
    Tap to message me on WhatsApp üòä<br>
    <a href="https://wa.me/918300568519" target="_blank">üì± 8300568519</a>
  </div>

  <button id="yes">Yes üíô</button>
  <button id="no">No ü§ç</button>
  <button id="next">Next ‚û°Ô∏è</button>
</div>

<!-- üî• FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, addDoc, collection, serverTimestamp }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig={
  apiKey:"AIzaSyAvN7xo_47Mso2rubw1b4vOKWO548f2AxU",
  authDomain:"just-a-few-questions.firebaseapp.com",
  projectId:"just-a-few-questions",
  storageBucket:"just-a-few-questions.appspot.com",
  messagingSenderId:"367392163708",
  appId:"1:367392163708:web:2b5273467744c74e2086f9"
};

const app=initializeApp(firebaseConfig);
const db=getFirestore(app);

window.saveResponse=async(data)=>{
  await addDoc(collection(db,"responses"),{
    ...data,
    time:serverTimestamp()
  });
};
</script>

<script>
const questions=[
 "Do you like me? üòä",
 "Do you have a crush on me? üòÑ",
 "Do you enjoy talking with me? üí¨",
 "Would you like to know me better? üòä",
 "Do you love me? ‚ù§Ô∏è",
 "Would you like to ask me anything? üòä",
 "If you feel comfortable, would you like to text me on WhatsApp? üòä"
];

const replies=[
 "I always like you üòä",
 "I do have a crush on you üòÑ",
 "I love talking with you üí¨",
 "I feel the same way ü§ç",
 "I LOVE YOU TOO ‚ù§Ô∏è",
 "I‚Äôm listening üòä",
 ""
];

const asciiArts=[
` /)   /)
( ·µî ·µï ·µî )
/ „Å•  „Å• ~ ‚ô°`,

`( À∂ÀÜÍí≥ÀÜÀµ )
   ‚ô° ‚ô°`,

`( ‚Ä¢ÃÄ œâ ‚Ä¢ÃÅ )‚úß
   üí¨`,

`(ÔΩ°‚ô•‚Äø‚ô•ÔΩ°)
   ‚ú®`,

`‚àß,,,‚àß
(  Ã≥‚Ä¢ ¬∑ ‚Ä¢ Ã≥)
/    „Å•‚ô°`,

`(‚âß‚ó°‚â¶)
   üòä`,

``
];

let i=0,noCount=0,yesSize=16,noSize=16;

const q=document.getElementById("question");
const r=document.getElementById("reply");
const ascii=document.getElementById("asciiBox");
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const next=document.getElementById("next");
const msg=document.getElementById("messageBox");
const wa=document.getElementById("whatsappBox");

q.innerText=questions[i];

function typeText(text){
  r.innerText="";
  r.style.display="block";
  let x=0;
  const t=setInterval(()=>{
    r.innerText+=text.charAt(x++);
    if(x>=text.length)clearInterval(t);
  },40);
}

no.onclick=()=>{
  noCount++;
  yesSize+=4;noSize-=2;
  yes.style.fontSize=yesSize+"px";
  no.style.fontSize=Math.max(noSize,8)+"px";
};

yes.onclick=async()=>{
  yes.style.display=no.style.display="none";

  typeText(replies[i]);

  if(asciiArts[i]){
    ascii.innerText=asciiArts[i];
    ascii.style.display="block";
  }

  await saveResponse({
    question:questions[i],
    yes:true,
    noClicks:noCount,
    message:msg.value||""
  });

  if(i===4){fireworks();hearts();}
  if(i===5)msg.style.display="block";

  if(i===6){
    wa.style.display="block";
    q.innerText="Thank you for spending a little time with me üòäüíñ";
    return;
  }

  next.style.display="inline-block";
};

next.onclick=()=>{
  i++;noCount=0;
  reset();
  q.innerText=questions[i];
};

function reset(){
  r.style.display="none";
  ascii.style.display="none";
  msg.style.display="none";
  yes.style.display=no.style.display="inline-block";
  next.style.display="none";
  yesSize=noSize=16;
  yes.style.fontSize=no.style.fontSize="16px";
}

function fireworks(){
  for(let j=0;j<12;j++){
    const f=document.createElement("div");
    f.className="firework";
    f.style.left=Math.random()*innerWidth+"px";
    f.style.top=Math.random()*innerHeight+"px";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1000);
  }
}

function hearts(){
  for(let j=0;j<12;j++){
    const h=document.createElement("div");
    h.className="heart";
    h.innerText="üíñ";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),4000);
  }
}
</script>
</body>
</html>
